# Changelog

Все изменения в проекте O-N-R (MZSA GEM).

## [Unreleased]

## [0.3.0] - 2025-01-XX
### Добавлено
- **Настраиваемый API URL**: Переменная окружения `VITE_API_URL` для конфигурации backend URL.
- **Файл `.env.example`**: Шаблон переменных окружения для фронтенда.

### Изменено
- **TrailerCard.tsx**: Логика кнопок — "Купить" для `in_stock`, "Заказать" для остальных статусов наличия.
- **Header.tsx**: Новое мобильное меню (slide-in слева) с glassmorphism-эффектами (`backdrop-blur-xl`, `bg-white/80`).
- **Catalog.tsx**: Строка поиска перемещена над фильтрами и категориями.
- **CatalogSearch.tsx**: Компонент на всю ширину с улучшенным плейсхолдером.
- **CatalogFilters.tsx**: Убран дублирующий sticky-контейнер.
- **Footer.tsx, Header.tsx**: Обновлены контактные данные.

### Исправлено
- **Контактные данные**: Заменены все хардкод-плейсхолдеры на реальные данные с o-n-r.ru:
  - Телефон: +7 (3462) 22-33-55
  - Email: info@o-n-r.ru
  - 4 филиала: Сургут, Нижневартовск, Ноябрьск, Новый Уренгой
- **Логотип**: Исправлен путь и заменён на корректный файл `onr-logo.png`.
- **Документация**: Обновлены `copilot-instructions.md`, `conventions.md`, `tech_stack.md`.

## [0.2.0] - 2025-11-19
### Добавлено
- **Отслеживание заказов**: Пользователи могут видеть историю своих заказов и их текущий статус в личном кабинете.
- **Ролевая модель (RBAC)**:
  - Роли: `admin`, `manager`, `user`.
  - Разграничение доступа в Админ-панели:
    - `admin`: Полный доступ (Заказы, Прицепы, Аксессуары, Клиенты, Настройки).
    - `manager`: Ограниченный доступ (Нет доступа к Настройкам).
- **Mock Data**:
  - Добавлен файл `src/data/orders.ts` с тестовыми заказами.
  - Реализована инициализация LocalStorage тестовыми данными при первом запуске.
- **UI Профиля**:
  - Отображение списка заказов с цветовой индикацией статусов.
  - Timeline (хронология) для быстрого просмотра последнего события по заказу.

### Изменено
- **AuthContext**: Логика определения роли пользователя перенесена на проверку email (содержит "admin" -> admin, "manager" -> manager).
- **Admin AuthProvider**: Обновлен для поддержки множественных учетных записей (`admin`/`admin123`, `manager`/`manager123`).
- **LocalStorageProvider**: Метод `initializeData` теперь принимает и сохраняет массив заказов.

### Исправлено
- Типизация интерфейса `Trailer` (добавлено поле `specs` для соответствия мок-данным).

## [0.1.0] - 2025-11-18
### Добавлено
- **Базовая структура проекта**: Vite + React + TypeScript.
- **Админ-панель**: Интеграция `react-admin`.
- **Каталог**: Просмотр прицепов и аксессуаров.
- **Конфигуратор**: Базовая логика подбора прицепа (UI).
- **LocalStorage Provider**: Эмуляция бэкенда на клиенте.
